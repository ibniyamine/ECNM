/*! 22.0.1.0 */
/*! VersionVI: 01F250052j x */
function WDMenu(n,t,i,r,u){if(arguments.length){WDChamp.prototype.constructor.apply(this,arguments);var f=u[0],e=u[1];this.m_bOnglet=f;this.m_tabMenusPopup=e;this.m_oRacine=null;this.m_bMenuGenerationCSS=!1;this.m_jqNav=undefined}}function _JEM(n,t,i,r,u){if(u)_JSL(_PAGE_,n,t,i,r,"MENU_SUBMIT");else{var f=window.location.search&&window.location.search.substring(1).split("&")||[];clWDUtil.bForEachInverse(f,function(n,t){var i=n.substr(0,3);return("WD_"==i||"ID="==i)&&f.splice(t,1),!0});f.unshift("ID="+n);f.unshift("WD_ACTION_=MENU");_JCL(_PU_+"?"+f.join("&"),t,i,r)}}function WDBarreNavigation(){arguments.length&&(WDChamp.prototype.constructor.apply(this,arguments),this.m_oBarreNavigation=undefined,this.m_jqBarreNavigation=undefined,this.m_jqAside=undefined)}WDMenu.prototype=new WDChamp;WDMenu.prototype.constructor=WDMenu;WDMenu.prototype.ms_nPositionBasGauche=0;WDMenu.prototype.ms_nPositionHautDroite=1;WDMenu.prototype.ms_nPositionBasCentreGlobal=2;WDMenu.prototype.ms_nPositionBasDroite=3;WDMenu.prototype.ms_nPositionHautGauche=4;WDMenu.prototype.Init=function(){WDChamp.prototype.Init.apply(this,arguments);this.m_oRacine&&(this.__InitMenuCSS(),this.m_bOnglet&&this.__AjouteJSSurvol_Onglets(),this.__AjouteJSSurvol_SousMenus())};WDMenu.prototype.OnDisplay=function(n,t){WDChamp.prototype.OnDisplay.apply(this,arguments);t&&this.fMajMenuOverflow&&this.m_jqNav&&this.m_jqNav.closest(n).length&&this.fMajMenuOverflow()};WDMenu.prototype.__InitMenuCSS=function(){var f,i,n,e,r,t,o,u;if(this.m_bMenuGenerationCSS=window.$&&(f=$(this.m_oRacine))&&(this.m_jqNav=f.add(f.children().first()).filter("nav")).length,this.m_bMenuGenerationCSS){i=this;n=this.m_jqNav;for(e in this.m_tabMenusPopup)(r=n.find("#"+e).closest(".wbMenuOption"),r&&r.length!=0)&&this.__AjouteJSSurvol_OptionGenerique(r.get(0),this.m_tabMenusPopup[e],"WDMenuOption","WDMenuOptionSelect",this.__s_MouseOverOptionAffichePopup,this.__s_MouseOverOptionMasquepopup);t=n.children("ul.WDOngletMain");this.m_bEstFilsDeFixed=t.parents().filter(function(){return $(this).css("position")=="fixed"||$(this).hasClass("fixedcoulisse")}).length;t.bind("click",function(t){var r=$(t.target).closest(".wbMenuOption"),e,u,f,o;r&&r.closest(".wbMenuMain").hasClass("wbMenuMobile")&&r.hasClass("wbAvecSousMenu")&&(e=r.hasClass("wbCollapse"),u=r.toggleClass("wbCollapse").addClass("wbCollapsing").find(".WDSousMenu:first").first(),e&&(f=r.offset().top-$(window).scrollTop(),o=f>0&&f+r.height()<(window.innerHeight||$(window).height()),u.css("display","none"),o||(n.css("overflow")=="auto"?n.animate({scrollTop:r.offset().top-n.offset().top+n.scrollTop()},300):i.m_bEstFilsDeFixed||$("html,body").animate({scrollTop:r.offset().top},300))),u.css("transition","none").slideToggle(400,function(){r.removeClass("wbCollapsing");u.css("overflow","hidden").css("display","").css("transition","");i.fMajMenuOverflow()}),t.stopPropagation())});this.fMajMenuOverflow=function(){var f=window.nBordHautNavigateur!==undefined?window.nBordHautNavigateur:$(document).scrollTop(),e=(window.nHauteurNavigateur!==undefined?window.nHauteurNavigateur:$(window).height())+f,o=window.nBordGaucheNavigateur!==undefined?window.nBordGaucheNavigateur:$(document).scrollLeft(),s=(window.nLargeurNavigateur!==undefined?window.nLargeurNavigateur:$(window).width())+o,h=t.height(),c=t.width(),l=n.offset().top,r=l+h,a=n.offset().left,u=a+c;n.css("height","auto");n.css("width","100%");n.css("overflow","visible");n.css("display","");!(n.hasClass("wbMenuMobile")&&(bTouch||i.m_bEstFilsDeFixed))||r<f||u<o||(r>e&&n.css("display","block").css("height",h-(r-e)+"px").css("overflow","auto"),u>s&&n.css("display","block").css("width",c-(u-s)+"px").css("overflow","auto"))};$(window).bind("resize scroll",this.fMajMenuOverflow);this.fMajMenuOverflow();o=function(t,i,r,u){return r!=="class"?u:(n.attr("class",u),n.hasClass("wbMenuSouris")&&bTouch&&n.hasClass("wbMenuVertical")&&n.removeClass("wbMenuSouris").addClass("wbMenuMobile"),n.attr("class"))};n.attr("class",o(undefined,!0,"class",n.attr("class")));n.data("wbMediaAttrCallback",o);this.__InitMenuCSSEffet();n.hasClass("wbMenuSouris")&&(u=function(){var t=window.nLargeurNavigateur?window.nLargeurNavigateur:$(window.document.body).width();n.find(".WDSousMenu").each(function(){var i=$(this);i.css({left:"",right:""});i.offset().left+i.width()>t&&(n.hasClass("wbMenuSouris")&&i.closest(".wbMenuOption").parent().hasClass("WDOngletMain")?i.css({left:"auto",right:0}):i.css({left:"auto",right:"100%"}));i.offset().left<0&&i.css({left:"auto",right:0})})},window.requestAnimationFrame?window.requestAnimationFrame(u):u(),$(window).bind("resize",u));n.find(".wbOptionAvecSousMenu").each(function(){var t=$(this),n=t.closest(".wbOptionAvecSousMenu").children(".wbOptionLien").children(".wbLienMenu");n&&n.length&&t.hover(function(){n.addClass("wbSurvol")},function(){n.removeClass("wbSurvol")})})}};WDMenu.prototype.__InitMenuCSSEffet=function(){try{var n=JSON.parse((this.m_jqNav.data("effet-menucss")||"").replace(/'/g,'"'))}catch(t){n=undefined}n&&n.type=="store"&&this.__InitMenuCSSEffetStore(n)};WDMenu.prototype.__InitMenuCSSEffetStore=function(n){var t=function(n){setTimeout(function(){if(!n.parents("nav").hasClass("wbMenuMobile")&&n.find(".WDSousMenu").first().css("opacity")==0){var t=0;n.find(".wbOptionSousMenu").find("a").each(function(){var n=$(this);n.parent(".wbOptionLien").length==1&&(n=n.closest(".wbOptionAvecSousMenu"));n.stop(!0,!1).css({opacity:0}).css({display:"block"}).css("transform","rotateY(90deg)").css("transition","none");$(this).next("i").stop(!0,!1).css({opacity:0});t+=100})}},1)};this.m_jqNav.find(".wbAvecSousMenu").each(function(){var i=$(this);i.find(".wbOptionLien").hover(function(){if(!i.parent("nav").hasClass("wbMenuMobile")){var t=0;i.find(".WDSousMenu").first().children().css("perspective","150px").each(function(){var i=$(this).find("a").first();i.parent(".wbOptionLien").length==1&&(i.next("i").stop(!0,!1).delay(n.duree*1.1).animate({opacity:1},400),i=i.closest(".wbOptionAvecSousMenu"));i.css({display:"block"}).css("transition","opacity "+.75*n.duree+"ms ease "+t+"ms, transform "+n.duree+"ms ease "+t+"ms").css("transform","none").stop(!0,!1).css({opacity:1});t+=.25*n.duree})}},function(){t(i)});i.find(".WDSousMenu").first().hover(function(){},function(){t(i)});t(i)})};WDMenu.prototype._vLiaisonHTML=function(){WDChamp.prototype._vLiaisonHTML.apply(this,arguments);this.m_oRacine=_JGE(this.m_sAliasChamp,document,!0,!1)};WDMenu.prototype.__AjouteJSSurvol_Onglets=function(){clWDUtil.bForEachThis(this.m_oRacine.getElementsByTagName("td"),this,function(n){return this.__bAvecClasseSelect(n,"WDOngletOption")&&this.__AjouteJSSurvol_UnOnglet(n,"WDOngletOption","WDOngletOptionSelect"),!0})};WDMenu.prototype.__AjouteJSSurvol_UnOnglet=function(n,t,i){clWDUtil.bForEachThis(n.getElementsByTagName("table"),this,function(r){return r.getElementsByTagName("tr").length&&clWDUtil.bAvecClasse(r.parentNode,"WDSousOnglet")?(this.__AjouteJSSurvol_OptionSousMenu(n,r,t,i),!1):!0})&&this.__AjouteJSSurvol_OptionSimpleOuPopup(n,t,i)};WDMenu.prototype.__AjouteJSSurvol_SousMenus=function(){clWDUtil.bForEachThis(this.m_oRacine.getElementsByTagName("tr"),this,function(n){return this.__AjouteJSSurvol(n),!0})};WDMenu.prototype.__AjouteJSSurvol=function(n){if(this.__bAvecClasseSelect(n,"WDMenuOption")){var t=n.getElementsByTagName("table");t.length&&t[0].getElementsByTagName("tr").length?this.__AjouteJSSurvol_OptionSousMenu(n,t[0],"WDMenuOption","WDMenuOptionSelect"):this.__AjouteJSSurvol_OptionSimpleOuPopup(n,"WDMenuOption","WDMenuOptionSelect")}};WDMenu.prototype.__AjouteJSSurvol_OptionSousMenu=function(n,t,i,r){this.__AjouteJSSurvol_OptionGenerique(n,t,i,r,this.__s_MouseOverOptionAfficheMenu,this.__s_MouseOverOptionMasqueMenu)};WDMenu.prototype.__s_MouseOverOptionAfficheMenu=function(n){var t=n.m_oParametres,r=t.ownerDocument,u=clWDUtil.__nGetBodyPropriete(r,"scrollWidth"),i,f;clWDUtil.SetDisplay(t,!0);i=clWDUtil.__nGetBodyPropriete(r,"scrollWidth");u<i&&(f=parseInt(clWDUtil.oGetCurrentStyle(t).left,10),t.style.left=f-(i-u)+"px")};WDMenu.prototype.__s_MouseOverOptionMasqueMenu=function(n){var t=n.m_oParametres;clWDUtil.SetDisplay(n.m_oParametres,!1);""!=t.style.left&&(t.style.left="")};WDMenu.prototype.__AjouteJSSurvol_OptionSimpleOuPopup=function(n,t,i){var r=n.getElementsByTagName("a");r&&r[0]&&r[0].id.length&&this.m_tabMenusPopup[r[0].id]?this.__AjouteJSSurvol_OptionGenerique(n,this.m_tabMenusPopup[r[0].id],t,i,this.__s_MouseOverOptionAffichePopup,this.__s_MouseOverOptionMasquepopup):this.__AjouteJSSurvol_OptionGenerique(n,null,t,i,null,null)};WDMenu.prototype.__s_MouseOverOptionAffichePopup=function(n){var i=n.m_oOptionMenu,r=clWDUtil.nGetBoundingClientRectLeft(i,!1),u=clWDUtil.nGetBoundingClientRectTop(i,!1),t=_JGE(n.m_oParametres.m_sPopup,document,!0);clWDUtil.oGetCurrentStyle(t).display=="none"&&(t.style.visibility="hidden",clWDUtil.SetDisplay(t,!0));switch(n.m_oParametres.m_ePosition){case WDMenu.prototype.ms_nPositionBasGauche:u+=i.offsetHeight;break;case WDMenu.prototype.ms_nPositionHautDroite:r+=i.offsetWidth;break;case WDMenu.prototype.ms_nPositionBasCentreGlobal:r=clWDUtil.nGetBoundingClientRectLeft(i.parentNode.parentNode,!1)+(i.parentNode.parentNode.offsetWidth-t.offsetWidth)/2;u+=i.offsetHeight;break;case WDMenu.prototype.ms_nPositionBasDroite:r+=i.offsetWidth-t.offsetWidth;u+=i.offsetHeight;break;case WDMenu.prototype.ms_nPositionHautGauche:r-=t.offsetWidth}clWDUtil.RemplaceClassName(t,undefined,"WDMenuPopupVisible");!0===clWDUtil.CelluleAfficheDialogue(n.m_oParametres.m_sPopup,document,0,undefined,0,r,u,undefined,n)&&(t=_JGE(n.m_oParametres.m_sPopup,document,!0),clWDUtil.AttacheDetacheEvent(!0,t,"mouseover",n.m_pfMouseOver),clWDUtil.AttacheDetacheEvent(!0,t,"mouseout",n.m_pfMouseOut))};WDMenu.prototype.__s_MouseOverOptionMasquepopup=function(n){var t=_JGE(n.m_oParametres.m_sPopup,document,!0);clWDUtil.AttacheDetacheEvent(!1,t,"mouseout",n.m_pfMouseOut);clWDUtil.AttacheDetacheEvent(!1,t,"mouseover",n.m_pfMouseOver);clWDUtil.CelluleFermeDialogue(n.m_oParametres.m_sPopup,document);t=_JGE(n.m_oParametres.m_sPopup,document,!0);clWDUtil.RemplaceClassName(t,"WDMenuPopupVisible",undefined)};WDMenu.prototype.__AjouteJSSurvol_OptionGenerique=function(n,t,i,r,u,f){var e={m_oOptionMenu:n,m_oRacine:this.m_oRacine,m_oParametres:t,m_sClasse:i,m_sClasseSelect:r,m_pfAffiche:u,m_pfMasque:f,m_nTimeoutMouseOut:-1,m_pfMouseOver:function(){WDMenu.prototype.__s_MouseOverOption(e)},m_pfMouseOut:function(){WDMenu.prototype.__s_MouseOutOption(e)}};(!bSfr||!bTouchMobile||u||f)&&(n.onmouseover=e.m_pfMouseOver,n.onmouseout=e.m_pfMouseOut)};WDMenu.prototype.__s_MouseOverOption=function(n){if(-1!==n.m_nTimeoutMouseOut){clWDUtil.ClearTimeout(n.m_nTimeoutMouseOut);n.m_nTimeoutMouseOut=-1;return}if(clWDUtil.RemplaceClassNameSiExiste(n.m_oOptionMenu,n.m_sClasse,n.m_sClasse+"Hover"),clWDUtil.RemplaceClassNameSiExiste(n.m_oOptionMenu,n.m_sClasseSelect,n.m_sClasseSelect+"Hover"),n.m_pfAffiche){var t=n.m_oOptionMenu.getElementsByTagName("a");t&&(bIE?t[0].disabled:t[0].attributes.getNamedItem("disabled"))||n.m_pfAffiche(n)}WDMenu.prototype.__s_ReflowMenuPourIE(n.m_oRacine)};WDMenu.prototype.__s_MouseOutOption=function(n){-1===n.m_nTimeoutMouseOut&&(n.m_nTimeoutMouseOut=clWDUtil.nSetTimeout(function(){WDMenu.prototype.__s_MouseOutOptionInterne(n)},clWDUtil.ms_oTimeoutImmediat))};WDMenu.prototype.__s_MouseOutOptionInterne=function(n){n.m_nTimeoutMouseOut=-1;clWDUtil.RemplaceClassNameSiExiste(n.m_oOptionMenu,n.m_sClasse+"Hover",n.m_sClasse);clWDUtil.RemplaceClassNameSiExiste(n.m_oOptionMenu,n.m_sClasseSelect+"Hover",n.m_sClasseSelect);n.m_pfMasque&&n.m_pfMasque(n);WDMenu.prototype.__s_ReflowMenuPourIE(n.m_oRacine)};WDMenu.prototype.__s_ReflowMenuPourIE=function(n){if(clWDUtil.bHTML5&&bIEAvec11){var t=n.style.width;n.style.width="";n.offsetWidth;n.style.width=t}};WDMenu.prototype.__bAvecClasseSelect=function(n,t){return clWDUtil.bAvecClasse(n,t)||clWDUtil.bAvecClasse(n,t+"Select")};WDMenu.prototype.OnClick=function(n){var u,t,f,r,i,e;if(!this.m_bDansOnClick&&(u=clWDUtil.oGetOriginalTarget(n),u&&!clWDUtil.bBaliseEstTag(u,"a")&&(!u.parentNode||!clWDUtil.bBaliseEstTag(u.parentNode,"a")))){for(t=u;t&&!clWDUtil.bBaliseEstTag(t,"tr");){if(t==document.body||clWDUtil.bAvecClasse(t,"wbOptionFleche"))return;t=t.parentNode}if(f=t.getElementsByTagName("a"),f&&f.length&&(r=f[0],r&&(i=r.href,i&&i.length)))if(i.substring(0,11)=="javascript:")i=i.substring(11),eval(i);else try{this.m_bDansOnClick=!0;document.createEvent&&r.dispatchEvent?(e=document.createEvent("MouseEvents"),e.initMouseEvent("click",!0,!1,window,1,0,0,0,0,!1,!1,!1,!1,0,null),r.dispatchEvent(e)):bIE&&r.click?r.click():eval(i)}finally{this.m_bDansOnClick=!1}}};WDBarreNavigation.prototype=new WDChamp;WDBarreNavigation.prototype.constructor=WDBarreNavigation;WDBarreNavigation.prototype.Init=function(){WDChamp.prototype.Init.apply(this,arguments)};WDBarreNavigation.prototype._vLiaisonHTML=function(){WDChamp.prototype._vLiaisonHTML.apply(this,arguments);this.m_oBarreNavigation=_JGE(this.m_sAliasChamp,document,!0,!1);this.m_jqBarreNavigation=$(this.m_oBarreNavigation).closest(".wbChampBarreNavigation");this.m_jqAside=this.m_jqBarreNavigation.find("aside").first();this.m_jqAside.addClass("wbCollapse");var n=this,t=function(t,i,r,u){return r!=="class"?u:(t.balise.hasClass("wbCollapse")!=u.indexOf("wbCollapse")>-1&&n.__EnrouleDeroule(!0),u)};this.m_jqAside.data("wbMediaAttrCallback",t)};WDBarreNavigation.prototype.GetProp=function(n){switch(n){case this.XML_CHAMP_PROP_NUM_ENROULE:return this.m_jqAside.hasClass("wbCollapse");default:return WDChamp.prototype.GetProp.apply(this,arguments)}};WDBarreNavigation.prototype.SetProp=function(n,t,i){i=WDChamp.prototype.SetProp.apply(this,arguments);switch(n){case this.XML_CHAMP_PROP_NUM_ENROULE:this.m_jqAside.hasClass("wbCollapse")!=!!i&&this.__EnrouleDeroule(!0);default:return i}};WDBarreNavigation.prototype.OnEnrouleDeroule=function(){this.__EnrouleDeroule()};WDBarreNavigation.prototype.__EnrouleDeroule=function(n){var t,u,i,r,e,f,o,s;if(this.m_jqAside.length&&(t=this.m_jqAside,u=this.m_jqBarreNavigation,n===!0||u.hasClass("wbBarreCompacte"))){i=t.hasClass("wbCollapse");t.toggleClass("wbCollapse").addClass("wbCollapsing");i?t.css("display","none"):t.css("display","block");t.css("transition","none").stop(!0,!1);try{r=JSON.parse((u.data("effet-barrenav")||"").replace(/'/g,'"'))}catch(h){r=undefined}if(!r||n){i?t.css("opacity",1).show():(t.css("display",""),u.css("marginBottom",0));AppelMethode(WDChamp.prototype.ms_sOnDisplay,[t[0],i]);t.removeClass("wbCollapsing");return}if(r.largeur&&t.css("max-width",r.largeur),r.coulisse){e=0;switch(r.sens){default:case 0:f="-100%";break;case 1:f="100%"}o=i?f:e;s=i?e:f;t.css("display","block").css("marginLeft",o).animate({marginLeft:s,opacity:i},{duration:r.duree||400,complete:function(){t.removeClass("wbCollapsing").css("marginLeft","").css("overflow","visible").css("display","").css("transition","").css("opacity",i?"1":"");AppelMethode(WDChamp.prototype.ms_sOnDisplay,[t[0],i])},progress:function(){}})}else t.slideToggle({duration:r.duree||400,complete:function(){t.removeClass("wbCollapsing").css("overflow","visible").css("display","").css("transition","").css("opacity",i?"1":"");AppelMethode(WDChamp.prototype.ms_sOnDisplay,[t[0],i])},progress:function(n,f){var e=f,o=i?-15:0,s=i?0:-15,h=s*e+(1-e)*o;t.css("marginTop",h);t.css("opacity",i?e:1-e);r.pousse&&u.css("marginBottom",t.height())}})}}